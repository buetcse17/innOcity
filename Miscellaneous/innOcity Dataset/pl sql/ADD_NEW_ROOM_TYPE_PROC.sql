CREATE OR REPLACE PROCEDURE "ADD_NEW_ROOM_TYPE"(RT IN VARCHAR2, HID IN NUMBER, BT IN VARCHAR2, COST IN NUMBER, DISC IN NUMBER,EXISTING OUT NUMBER) AS
	RTID NUMBER;
BEGIN
	SELECT ROOMTYPEID INTO EXISTING FROM ROOM_TYPE WHERE HOTELID = HID AND UPPER(ROOMTYPE_NAME) = UPPER(RT);
EXCEPTION
	WHEN NO_DATA_FOUND THEN
		EXISTING := 0;
		RTID := GENERATE_ID('ROOM_TYPE', 'ROOMTYPEID');
		INSERT INTO ROOM_TYPE(ROOMTYPEID, ROOMTYPE_NAME, BED_TYPE, COST_PER_DAY, DISCOUNT, HOTELID) VALUES(RTID,
		INITCAP(RT), INITCAP(BT), COST, DISC, HID);
END;